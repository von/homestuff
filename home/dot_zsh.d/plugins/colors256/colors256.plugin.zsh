#!/bin/zsh
#
# Colors256
#
# Extend zsh fg and bg arrays from colors() function with 256 color support
# So fg[0],fg[1], etc. and bg[0],bg[1],etc. will work.

autoload colors; colors;

for i in {0..255} ; do
    local f=$'\e[38;5;' b=$'\e[48;5;' s='m'
    fg[${i}]="${f}${i}${s}"
    bg[${i}]="${b}${i}${s}"
done

color_table () {
    local fields=$(( $COLUMNS / 5 ))
    printf "Foreground:\n"
    for i in {0..255} ; do
        printf "${fg[${i}]} %03d " ${i}
        if test $(( ($i + 1) % $fields )) = 0 ; then
            printf "\n"
        fi
    done
    printf "\nBackground:\n"
    for i in {0..255} ; do
        printf "${bg[${i}]} %03d " ${i}
        if test $(( ($i + 1) % $fields )) = 0 ; then
            printf "${bg[0]}\n"
        fi
    done
    printf "\n"
}

# Colors names from https://pypi.python.org/pypi/colored/
fg[Grey0]=$fg[16] ;                 bg[Grey0]=$bg[16]
fg[NavyBlue]=$fg[17] ;              bg[NavyBlue]=$bg[17]
fg[DarkBlue]=$fg[18] ;              bg[DarkBlue]=$bg[18]
fg[Blue3a]=$fg[19] ;                bg[Blue3a]=$bg[19]
fg[Blue3b]=$fg[20] ;                bg[Blue3b]=$bg[20]
fg[Blue1]=$fg[21] ;                 bg[Blue1]=$bg[21]
fg[DarkGreen]=$fg[22] ;             bg[DarkGreen]=$bg[22]
fg[DeepSkyBlue4a]=$fg[23] ;         bg[DeepSkyBlue4a]=$bg[23]
fg[DeepSkyBlue4b]=$fg[24] ;         bg[DeepSkyBlue4b]=$bg[24]
fg[DeepSkyBlue4c]=$fg[25] ;         bg[DeepSkyBlue4c]=$bg[25]
fg[DodgerBlue3]=$fg[26] ;           bg[DodgerBlue3]=$bg[26]
fg[DodgerBlue2]=$fg[27] ;           bg[DodgerBlue2]=$bg[27]
fg[Green4]=$fg[28] ;                bg[Green4]=$bg[28]
fg[SpringGreen4]=$fg[29] ;          bg[SpringGreen4]=$bg[29]
fg[Turquoise4]=$fg[30] ;            bg[Turquoise4]=$bg[30]
fg[DeepSkyBlue3a]=$fg[31] ;         bg[DeepSkyBlue3a]=$bg[31]
fg[DeepSkyBlue3b]=$fg[32] ;         bg[DeepSkyBlue3b]=$bg[32]
fg[DodgerBlue1]=$fg[33] ;           bg[DodgerBlue1]=$bg[33]
fg[Green3a]=$fg[34] ;               bg[Green3a]=$bg[34]
fg[SpringGreen3a]=$fg[35] ;         bg[SpringGreen3a]=$bg[35]
fg[DarkCyan]=$fg[36] ;              bg[DarkCyan]=$bg[36]
fg[LightSeaGreen]=$fg[37] ;         bg[LightSeaGreen]=$bg[37]
fg[DeepSkyBlue2]=$fg[38] ;          bg[DeepSkyBlue2]=$bg[38]
fg[DeepSkyBlue1]=$fg[39] ;          bg[DeepSkyBlue1]=$bg[39]
fg[Green3b]=$fg[40] ;               bg[Green3b]=$bg[40]
fg[SpringGreen3b]=$fg[41] ;         bg[SpringGreen3b]=$bg[41]
fg[SpringGreen2a]=$fg[42] ;         bg[SpringGreen2a]=$bg[42]
fg[Cyan3]=$fg[43] ;                 bg[Cyan3]=$bg[43]
fg[DarkTurquoise]=$fg[44] ;         bg[DarkTurquoise]=$bg[44]
fg[Turquoise2]=$fg[45] ;            bg[Turquoise2]=$bg[45]
fg[Green1]=$fg[46] ;                bg[Green1]=$bg[46]
fg[SpringGreen2b]=$fg[47] ;         bg[SpringGreen2b]=$bg[47]
fg[SpringGreen1]=$fg[48] ;          bg[SpringGreen1]=$bg[48]
fg[MediumSpringGreen]=$fg[49] ;     bg[MediumSpringGreen]=$bg[49]
fg[Cyan2]=$fg[50] ;                 bg[Cyan2]=$bg[50]
fg[Cyan1]=$fg[51] ;                 bg[Cyan1]=$bg[51]
fg[DarkRed1]=$fg[52] ;              bg[DarkRed1]=$bg[52]
fg[DeepPink4a]=$fg[53] ;            bg[DeepPink4a]=$bg[53]
fg[Purple4a]=$fg[54] ;              bg[Purple4a]=$bg[54]
fg[Purple4b]=$fg[55] ;              bg[Purple4b]=$bg[55]
fg[Purple3]=$fg[56] ;               bg[Purple3]=$bg[56]
fg[BlueViolet]=$fg[57] ;            bg[BlueViolet]=$bg[57]
fg[Orange4a]=$fg[58] ;              bg[Orange4a]=$bg[58]
fg[Grey37]=$fg[59] ;                bg[Grey37]=$bg[59]
fg[MediumPurple4]=$fg[60] ;         bg[MediumPurple4]=$bg[60]
fg[SlateBlue3a]=$fg[61] ;           bg[SlateBlue3a]=$bg[61]
fg[SlateBlue3b]=$fg[62] ;           bg[SlateBlue3b]=$bg[62]
fg[RoyalBlue1]=$fg[63] ;            bg[RoyalBlue1]=$bg[63]
fg[Chartreuse4]=$fg[64] ;           bg[Chartreuse4]=$bg[64]
fg[DarkSeaGreen4a]=$fg[65] ;        bg[DarkSeaGreen4a]=$bg[65]
fg[PaleTurquoise4]=$fg[66] ;        bg[PaleTurquoise4]=$bg[66]
fg[SteelBlue]=$fg[67] ;             bg[SteelBlue]=$bg[67]
fg[SteelBlue3]=$fg[68] ;            bg[SteelBlue3]=$bg[68]
fg[CornflowerBlue]=$fg[69] ;        bg[CornflowerBlue]=$bg[69]
fg[Chartreuse3a]=$fg[70] ;          bg[Chartreuse3a]=$bg[70]
fg[DarkSeaGreen4b]=$fg[71] ;        bg[DarkSeaGreen4b]=$bg[71]
fg[CadetBlue2]=$fg[72] ;            bg[CadetBlue2]=$bg[72]
fg[CadetBlue1]=$fg[73] ;            bg[CadetBlue1]=$bg[73]
fg[SkyBlue3]=$fg[74] ;              bg[SkyBlue3]=$bg[74]
fg[SteelBlue1a]=$fg[75] ;           bg[SteelBlue1a]=$bg[75]
fg[Chartreuse3b]=$fg[76] ;          bg[Chartreuse3b]=$bg[76]
fg[PaleGreen3a]=$fg[77] ;           bg[PaleGreen3a]=$bg[77]
fg[SeaGreen3]=$fg[78] ;             bg[SeaGreen3]=$bg[78]
fg[Aquamarine3]=$fg[79] ;           bg[Aquamarine3]=$bg[79]
fg[MediumTurquoise]=$fg[80] ;       bg[MediumTurquoise]=$bg[80]
fg[SteelBlue1b]=$fg[81] ;           bg[SteelBlue1b]=$bg[81]
fg[Chartreuse2a]=$fg[82] ;          bg[Chartreuse2a]=$bg[82]
fg[SeaGreen2]=$fg[83] ;             bg[SeaGreen2]=$bg[83]
fg[SeaGreen1a]=$fg[84] ;            bg[SeaGreen1a]=$bg[84]
fg[SeaGreen1b]=$fg[85] ;            bg[SeaGreen1b]=$bg[85]
fg[Aquamarine1a]=$fg[86] ;          bg[Aquamarine1a]=$bg[86]
fg[DarkSlateGray2]=$fg[87] ;        bg[DarkSlateGray2]=$bg[87]
fg[DarkRed2]=$fg[88] ;              bg[DarkRed2]=$bg[88]
fg[DeepPink4b]=$fg[89] ;            bg[DeepPink4b]=$bg[89]
fg[DarkMagenta1]=$fg[90] ;          bg[DarkMagenta1]=$bg[90]
fg[DarkMagenta2]=$fg[91] ;          bg[DarkMagenta2]=$bg[91]
fg[DarkViolet1a]=$fg[92] ;          bg[DarkViolet1a]=$bg[92]
fg[Purple1a]=$fg[93] ;              bg[Purple1a]=$bg[93]
fg[Orange4b]=$fg[94] ;              bg[Orange4b]=$bg[94]
fg[LightPink4]=$fg[95] ;            bg[LightPink4]=$bg[95]
fg[Plum4]=$fg[96] ;                 bg[Plum4]=$bg[96]
fg[MediumPurple3a]=$fg[97] ;        bg[MediumPurple3a]=$bg[97]
fg[MediumPurple3b]=$fg[98] ;        bg[MediumPurple3b]=$bg[98]
fg[SlateBlue1]=$fg[99] ;            bg[SlateBlue1]=$bg[99]
fg[Yellow4a]=$fg[100] ;             bg[Yellow4a]=$bg[100]
fg[Wheat4]=$fg[101] ;               bg[Wheat4]=$bg[101]
fg[Grey53]=$fg[102] ;               bg[Grey53]=$bg[102]
fg[LightSlateGrey]=$fg[103] ;       bg[LightSlateGrey]=$bg[103]
fg[MediumPurple]=$fg[104] ;         bg[MediumPurple]=$bg[104]
fg[LightSlateBlue]=$fg[105] ;       bg[LightSlateBlue]=$bg[105]
fg[Yellow4b]=$fg[106] ;             bg[Yellow4b]=$bg[106]
fg[DarkOliveGreen3a]=$fg[107] ;     bg[DarkOliveGreen3a]=$bg[107]
fg[DarkGreenSea]=$fg[108] ;         bg[DarkGreenSea]=$bg[108]
fg[LightSkyBlue3a]=$fg[109] ;       bg[LightSkyBlue3a]=$bg[109]
fg[LightSkyBlue3b]=$fg[110] ;       bg[LightSkyBlue3b]=$bg[110]
fg[SkyBlue2]=$fg[111] ;             bg[SkyBlue2]=$bg[111]
fg[Chartreuse2b]=$fg[112] ;         bg[Chartreuse2b]=$bg[112]
fg[DarkOliveGreen3b]=$fg[113] ;     bg[DarkOliveGreen3b]=$bg[113]
fg[PaleGreen3b]=$fg[114] ;          bg[PaleGreen3b]=$bg[114]
fg[DarkSeaGreen3a]=$fg[115] ;       bg[DarkSeaGreen3a]=$bg[115]
fg[DarkSlateGray3]=$fg[116] ;       bg[DarkSlateGray3]=$bg[116]
fg[SkyBlue1]=$fg[117] ;             bg[SkyBlue1]=$bg[117]
fg[Chartreuse1]=$fg[118] ;          bg[Chartreuse1]=$bg[118]
fg[LightGreen2]=$fg[119] ;          bg[LightGreen2]=$bg[119]
fg[LightGreen3]=$fg[120] ;          bg[LightGreen3]=$bg[120]
fg[PaleGreen1a]=$fg[121] ;          bg[PaleGreen1a]=$bg[121]
fg[Aquamarine1b]=$fg[122] ;         bg[Aquamarine1b]=$bg[122]
fg[DarkSlateGray1]=$fg[123] ;       bg[DarkSlateGray1]=$bg[123]
fg[Red3a]=$fg[124] ;                bg[Red3a]=$bg[124]
fg[DeepPink4c]=$fg[125] ;           bg[DeepPink4c]=$bg[125]
fg[MediumVioletRed]=$fg[126] ;      bg[MediumVioletRed]=$bg[126]
fg[Magenta3a]=$fg[127] ;            bg[Magenta3a]=$bg[127]
fg[DarkViolet1b]=$fg[128] ;         bg[DarkViolet1b]=$bg[128]
fg[Purple1b]=$fg[129] ;             bg[Purple1b]=$bg[129]
fg[DarkOrange3a]=$fg[130] ;         bg[DarkOrange3a]=$bg[130]
fg[IndianRed1a]=$fg[131] ;          bg[IndianRed1a]=$bg[131]
fg[HotPink3a]=$fg[132] ;            bg[HotPink3a]=$bg[132]
fg[MediumOrchid3]=$fg[133] ;        bg[MediumOrchid3]=$bg[133]
fg[MediumOrchid]=$fg[134] ;         bg[MediumOrchid]=$bg[134]
fg[MediumPurple2a]=$fg[135] ;       bg[MediumPurple2a]=$bg[135]
fg[DarkGoldenrod]=$fg[136] ;        bg[DarkGoldenrod]=$bg[136]
fg[LightSalmon3a]=$fg[137] ;        bg[LightSalmon3a]=$bg[137]
fg[RosyBrown]=$fg[138] ;            bg[RosyBrown]=$bg[138]
fg[Grey63]=$fg[139] ;               bg[Grey63]=$bg[139]
fg[MediumPurple2b]=$fg[140] ;       bg[MediumPurple2b]=$bg[140]
fg[MediumPurple1]=$fg[141] ;        bg[MediumPurple1]=$bg[141]
fg[Gold3a]=$fg[142] ;               bg[Gold3a]=$bg[142]
fg[DarkKhaki]=$fg[143] ;            bg[DarkKhaki]=$bg[143]
fg[NavajoWhite3]=$fg[144] ;         bg[NavajoWhite3]=$bg[144]
fg[Grey69]=$fg[145] ;               bg[Grey69]=$bg[145]
fg[LightSteelBlue3]=$fg[146] ;      bg[LightSteelBlue3]=$bg[146]
fg[LightSteelBlue]=$fg[147] ;       bg[LightSteelBlue]=$bg[147]
fg[Yellow3a]=$fg[148] ;             bg[Yellow3a]=$bg[148]
fg[DarkOliveGreen3]=$fg[149] ;      bg[DarkOliveGreen3]=$bg[149]
fg[DarkSeaGreen3b]=$fg[150] ;       bg[DarkSeaGreen3b]=$bg[150]
fg[DarkSeaGreen2a]=$fg[151] ;       bg[DarkSeaGreen2a]=$bg[151]
fg[LightCyan3]=$fg[152] ;           bg[LightCyan3]=$bg[152]
fg[LightSkyBlue1]=$fg[153] ;        bg[LightSkyBlue1]=$bg[153]
fg[GreenYellow]=$fg[154] ;          bg[GreenYellow]=$bg[154]
fg[DarkOliveGreen2]=$fg[155] ;      bg[DarkOliveGreen2]=$bg[155]
fg[PaleGreen1b]=$fg[156] ;          bg[PaleGreen1b]=$bg[156]
fg[DarkSeaGreen2b]=$fg[157] ;       bg[DarkSeaGreen2b]=$bg[157]
fg[DarkSeaGreen1a]=$fg[158] ;       bg[DarkSeaGreen1a]=$bg[158]
fg[PaleTurquoise1]=$fg[159] ;       bg[PaleTurquoise1]=$bg[159]
fg[Red3a]=$fg[160] ;                bg[Red3a]=$bg[160]
fg[DeepPink3a]=$fg[161] ;           bg[DeepPink3a]=$bg[161]
fg[DeepPink3b]=$fg[162] ;           bg[DeepPink3b]=$bg[162]
fg[Magenta3b]=$fg[163] ;            bg[Magenta3b]=$bg[163]
fg[Magenta3c]=$fg[164] ;            bg[Magenta3c]=$bg[164]
fg[Magenta2a]=$fg[165] ;            bg[Magenta2a]=$bg[165]
fg[DarkOrange3b]=$fg[166] ;         bg[DarkOrange3b]=$bg[166]
fg[IndianRed1b]=$fg[167] ;          bg[IndianRed1b]=$bg[167]
fg[HotPink3b]=$fg[168] ;            bg[HotPink3b]=$bg[168]
fg[HotPink2]=$fg[169] ;             bg[HotPink2]=$bg[169]
fg[orchid]=$fg[170] ;               bg[orchid]=$bg[170]
fg[MediumOrchid1a]=$fg[171] ;       bg[MediumOrchid1a]=$bg[171]
fg[Orange3]=$fg[172] ;              bg[Orange3]=$bg[172]
fg[LightSalmon3b]=$fg[173] ;        bg[LightSalmon3b]=$bg[173]
fg[LightPink3]=$fg[174] ;           bg[LightPink3]=$bg[174]
fg[Pink3]=$fg[175] ;                bg[Pink3]=$bg[175]
fg[Plum3]=$fg[176] ;                bg[Plum3]=$bg[176]
fg[Violet]=$fg[177] ;               bg[Violet]=$bg[177]
fg[Gold3b]=$fg[178] ;               bg[Gold3b]=$bg[178]
fg[LightGoldenrod3]=$fg[179] ;      bg[LightGoldenrod3]=$bg[179]
fg[Tan]=$fg[180] ;                  bg[Tan]=$bg[180]
fg[MistyRose3]=$fg[181] ;           bg[MistyRose3]=$bg[181]
fg[Thistle3]=$fg[182] ;             bg[Thistle3]=$bg[182]
fg[Plum2]=$fg[183] ;                bg[Plum2]=$bg[183]
fg[Yellow3b]=$fg[184] ;             bg[Yellow3b]=$bg[184]
fg[Khaki3]=$fg[185] ;               bg[Khaki3]=$bg[185]
fg[LightGoldenrod2a]=$fg[186] ;     bg[LightGoldenrod2a]=$bg[186]
fg[LightYellow3]=$fg[187] ;         bg[LightYellow3]=$bg[187]
fg[Grey84]=$fg[188] ;               bg[Grey84]=$bg[188]
fg[LightSteelBlue1]=$fg[189] ;      bg[LightSteelBlue1]=$bg[189]
fg[Yellow2]=$fg[190] ;              bg[Yellow2]=$bg[190]
fg[DarkOliveGreen1a]=$fg[191] ;     bg[DarkOliveGreen1a]=$bg[191]
fg[DarkOliveGreen1b]=$fg[192] ;     bg[DarkOliveGreen1b]=$bg[192]
fg[DarkSeaGreen1b]=$fg[193] ;       bg[DarkSeaGreen1b]=$bg[193]
fg[Honeydew2]=$fg[194] ;            bg[Honeydew2]=$bg[194]
fg[LightCyan1]=$fg[195] ;           bg[LightCyan1]=$bg[195]
fg[Red1]=$fg[196] ;                 bg[Red1]=$bg[196]
fg[DeepPink2]=$fg[197] ;            bg[DeepPink2]=$bg[197]
fg[DeepPink1a]=$fg[198] ;           bg[DeepPink1a]=$bg[198]
fg[DeepPink1b]=$fg[199] ;           bg[DeepPink1b]=$bg[199]
fg[Magenta2b]=$fg[200] ;            bg[Magenta2b]=$bg[200]
fg[Magenta1]=$fg[201] ;             bg[Magenta1]=$bg[201]
fg[OrangeRed1]=$fg[202] ;           bg[OrangeRed1]=$bg[202]
fg[IndianRed1c]=$fg[203] ;          bg[IndianRed1c]=$bg[203]
fg[IndianRed1d]=$fg[204] ;          bg[IndianRed1d]=$bg[204]
fg[HotPink1a]=$fg[205] ;            bg[HotPink1a]=$bg[205]
fg[HotPink1b]=$fg[206] ;            bg[HotPink1b]=$bg[206]
fg[MediumOrchid1b]=$fg[207] ;       bg[MediumOrchid1b]=$bg[207]
fg[DarkOrange]=$fg[208] ;           bg[DarkOrange]=$bg[208]
fg[Salmon1]=$fg[209] ;              bg[Salmon1]=$bg[209]
fg[LightCoral]=$fg[210] ;           bg[LightCoral]=$bg[210]
fg[PaleVioletRed1]=$fg[211] ;       bg[PaleVioletRed1]=$bg[211]
fg[Orchid2]=$fg[212] ;              bg[Orchid2]=$bg[212]
fg[Orchid1]=$fg[213] ;              bg[Orchid1]=$bg[213]
fg[Orange1]=$fg[214] ;              bg[Orange1]=$bg[214]
fg[SandyBrown]=$fg[215] ;           bg[SandyBrown]=$bg[215]
fg[LightSalmon1]=$fg[216] ;         bg[LightSalmon1]=$bg[216]
fg[LightPink1]=$fg[217] ;           bg[LightPink1]=$bg[217]
fg[Pink1]=$fg[218] ;                bg[Pink1]=$bg[218]
fg[Plum1]=$fg[219] ;                bg[Plum1]=$bg[219]
fg[Gold1]=$fg[220] ;                bg[Gold1]=$bg[220]
fg[LightGoldenrod2b]=$fg[221] ;     bg[LightGoldenrod2b]=$bg[221]
fg[LightGoldenrod2c]=$fg[222] ;     bg[LightGoldenrod2c]=$bg[222]
fg[NavajoWhite1]=$fg[223] ;         bg[NavajoWhite1]=$bg[223]
fg[MistyRose1]=$fg[224] ;           bg[MistyRose1]=$bg[224]
fg[Thistle1]=$fg[225] ;             bg[Thistle1]=$bg[225]
fg[Yellow1]=$fg[226] ;              bg[Yellow1]=$bg[226]
fg[LightGoldenrod1]=$fg[227] ;      bg[LightGoldenrod1]=$bg[227]
fg[Khaki1]=$fg[228] ;               bg[Khaki1]=$bg[228]
fg[Wheat1]=$fg[229] ;               bg[Wheat1]=$bg[229]
fg[Cornsilk1]=$fg[230] ;            bg[Cornsilk1]=$bg[230]
fg[Grey100]=$fg[231] ;              bg[Grey100]=$bg[231]
fg[Grey3]=$fg[232] ;                bg[Grey3]=$bg[232]
fg[Grey7]=$fg[233] ;                bg[Grey7]=$bg[233]
fg[Grey11]=$fg[234] ;               bg[Grey11]=$bg[234]
fg[Grey15]=$fg[235] ;               bg[Grey15]=$bg[235]
fg[Grey19]=$fg[236] ;               bg[Grey19]=$bg[236]
fg[Grey23]=$fg[237] ;               bg[Grey23]=$bg[237]
fg[Grey27]=$fg[238] ;               bg[Grey27]=$bg[238]
fg[Grey30]=$fg[239] ;               bg[Grey30]=$bg[239]
fg[Grey35]=$fg[240] ;               bg[Grey35]=$bg[240]
fg[Grey39]=$fg[241] ;               bg[Grey39]=$bg[241]
fg[Grey42]=$fg[242] ;               bg[Grey42]=$bg[242]
fg[Grey46]=$fg[243] ;               bg[Grey46]=$bg[243]
fg[Grey50]=$fg[244] ;               bg[Grey50]=$bg[244]
fg[Grey54]=$fg[245] ;               bg[Grey54]=$bg[245]
fg[Grey58]=$fg[246] ;               bg[Grey58]=$bg[246]
fg[Grey62]=$fg[247] ;               bg[Grey62]=$bg[247]
fg[Grey66]=$fg[248] ;               bg[Grey66]=$bg[248]
fg[Grey70]=$fg[249] ;               bg[Grey70]=$bg[249]
fg[Grey74]=$fg[250] ;               bg[Grey74]=$bg[250]
fg[Grey78]=$fg[251] ;               bg[Grey78]=$bg[251]
fg[Grey82]=$fg[252] ;               bg[Grey82]=$bg[252]
fg[Grey85]=$fg[253] ;               bg[Grey85]=$bg[253]
fg[Grey89]=$fg[254] ;               bg[Grey89]=$bg[254]
fg[Grey93]=$fg[255] ;               bg[Grey93]=$bg[255]
